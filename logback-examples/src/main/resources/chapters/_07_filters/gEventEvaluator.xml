<?xml version="1.0" encoding="UTF-8"?>
<configuration debug="true">
  <appender name="STDOUT" class="ch.qos.logback.core.ConsoleAppender">
    <filter class="ch.qos.logback.core.filter.EvaluatorFilter">
      <!-- Groovy language boolean expressions -->
      <!-- this class cannot find at logback.version 1.3.0-alpha4 -->
      <evaluator class="ch.qos.logback.classic.boolex.GEventEvaluator">
        <!-- The above filter will let events of level WARN and higher go through onto the console
        unless the error is generated by Web crawlers associated with Google, MSN or Yahoo. -->
        <expression>
          e.level.toInt() >= WARN.toInt() &amp;&amp;  <!-- Stands for && in XML -->
          !(e.mdc?.get("req.userAgent") =~ /Googlebot|msnbot|Yahoo/ )
        </expression>
      </evaluator>
      <OnMismatch>DENY</OnMismatch>
      <OnMatch>NEUTRAL</OnMatch>
    </filter>
    <encoder>
      <pattern>
        %-4relative [%thread] %-5level %logger - %msg%n
      </pattern>
    </encoder>
  </appender>

  <root level="DEBUG">
    <appender-ref ref="STDOUT"/>
  </root>
</configuration>